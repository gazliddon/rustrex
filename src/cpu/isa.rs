// macro_rules! one_op {

//     ($this:ident, $addr_mode:ident, $op:ident) => {
//         {let v =  $this.$addr_mode(); $this.op(v)},
//     }
// }

// macro_rules! decode_op_test {
//     ($op:expr, $this:ident) => {
//         match $op {
//             0x10ce=>  { let v = $this.immediate16();  $this.lds(v) },
//             _ => {$this.unimplemented()}
//         }
//     }
// }

macro_rules! op_table {
    ($op:expr, $fail:block) => {
        match $op {
            0x00 =>  handle_op!(Direct, neg),
            0x03 =>  handle_op!(Direct, com),
            0x04 =>  handle_op!(Direct, lsr),
            0x06 =>  handle_op!(Direct, ror),
            0x07 =>  handle_op!(Direct, asr),
            0x08 =>  handle_op!(Direct, lsl_asl),
            0x09 =>  handle_op!(Direct, rol),
            0x0a =>  handle_op!(Direct, dec),
            0x0c =>  handle_op!(Direct, inc),
            0x0d =>  handle_op!(Direct, tst),
            0x0e =>  handle_op!(Direct, jmp),
            0x0f =>  handle_op!(Direct, clr),
            0x12 =>  handle_op!(Inherent, nop),
            0x13 =>  handle_op!(Inherent, sync),
            0x16 =>  handle_op!(Relative, lbra),
            0x17 =>  handle_op!(Relative, lbsr),
            0x19 =>  handle_op!(Inherent, daa),
            0x1a =>  handle_op!(Immediate, orcc),
            0x1c =>  handle_op!(Immediate, andcc),
            0x1d =>  handle_op!(Inherent, sex),
            0x1e =>  handle_op!(Inherent, exg),
            0x1f =>  handle_op!(Inherent, tfr),
            0x20 =>  handle_op!(Relative, bra),
            0x21 =>  handle_op!(Relative, brn),
            0x22 =>  handle_op!(Relative, bhi),
            0x23 =>  handle_op!(Relative, bls),
            0x24 =>  handle_op!(Relative, bhs_bcc),
            0x25 =>  handle_op!(Relative, blo_bcs),
            0x26 =>  handle_op!(Relative, bne),
            0x27 =>  handle_op!(Relative, beq),
            0x28 =>  handle_op!(Relative, bvc),
            0x29 =>  handle_op!(Relative, bvs),
            0x2a =>  handle_op!(Relative, bpl),
            0x2b =>  handle_op!(Relative, bmi),
            0x2c =>  handle_op!(Relative, bge),
            0x2d =>  handle_op!(Relative, blt),
            0x2e =>  handle_op!(Relative, bgt),
            0x2f =>  handle_op!(Relative, ble),
            0x30 =>  handle_op!(Indexed, leax),
            0x31 =>  handle_op!(Indexed, leay),
            0x32 =>  handle_op!(Indexed, leas),
            0x33 =>  handle_op!(Indexed, leau),
            0x34 =>  handle_op!(Inherent, pshs),
            0x35 =>  handle_op!(Inherent, puls),
            0x36 =>  handle_op!(Inherent, pshu),
            0x37 =>  handle_op!(Inherent, pulu),
            0x39 =>  handle_op!(Inherent, rts),
            0x3a =>  handle_op!(Inherent, abx),
            0x3b =>  handle_op!(Inherent, rti),
            0x3c =>  handle_op!(Inherent, cwai),
            0x3d =>  handle_op!(Inherent, mul),
            0x3e =>  handle_op!(Inherent, reset),
            0x3f =>  handle_op!(Inherent, swi),
            0x40 =>  handle_op!(Inherent, nega),
            0x43 =>  handle_op!(Inherent, coma),
            0x44 =>  handle_op!(Inherent, lsra),
            0x46 =>  handle_op!(Inherent, rora),
            0x47 =>  handle_op!(Inherent, asra),
            0x48 =>  handle_op!(Inherent, lsla_asla),
            0x49 =>  handle_op!(Inherent, rola),
            0x4a =>  handle_op!(Inherent, deca),
            0x4c =>  handle_op!(Inherent, inca),
            0x4d =>  handle_op!(Inherent, tsta),
            0x4f =>  handle_op!(Inherent, clra),
            0x50 =>  handle_op!(Inherent, negb),
            0x53 =>  handle_op!(Inherent, comb),
            0x54 =>  handle_op!(Inherent, lsrb),
            0x56 =>  handle_op!(Inherent, rorb),
            0x57 =>  handle_op!(Inherent, asrb),
            0x58 =>  handle_op!(Inherent, lslb_aslb),
            0x59 =>  handle_op!(Inherent, rolb),
            0x5a =>  handle_op!(Inherent, decb),
            0x5c =>  handle_op!(Inherent, incb),
            0x5d =>  handle_op!(Inherent, tstb),
            0x5f =>  handle_op!(Inherent, clrb),
            0x60 =>  handle_op!(Indexed, neg),
            0x63 =>  handle_op!(Indexed, com),
            0x64 =>  handle_op!(Indexed, lsr),
            0x66 =>  handle_op!(Indexed, ror),
            0x67 =>  handle_op!(Indexed, asr),
            0x68 =>  handle_op!(Indexed, lsl_asl),
            0x69 =>  handle_op!(Indexed, rol),
            0x6a =>  handle_op!(Indexed, dec),
            0x6c =>  handle_op!(Indexed, inc),
            0x6d =>  handle_op!(Indexed, tst),
            0x6e =>  handle_op!(Indexed, jmp),
            0x6f =>  handle_op!(Indexed, clr),
            0x70 =>  handle_op!(Extended, neg),
            0x73 =>  handle_op!(Extended, com),
            0x74 =>  handle_op!(Extended, lsr),
            0x76 =>  handle_op!(Extended, ror),
            0x77 =>  handle_op!(Extended, asr),
            0x78 =>  handle_op!(Extended, lsl_asl),
            0x79 =>  handle_op!(Extended, rol),
            0x7a =>  handle_op!(Extended, dec),
            0x7c =>  handle_op!(Extended, inc),
            0x7d =>  handle_op!(Extended, tst),
            0x7e =>  handle_op!(Extended, jmp),
            0x7f =>  handle_op!(Extended, clr),
            0x80 =>  handle_op!(Immediate, suba),
            0x81 =>  handle_op!(Immediate, cmpa),
            0x82 =>  handle_op!(Immediate, sbca),
            0x83 =>  handle_op!(Immediate, subd),
            0x84 =>  handle_op!(Immediate, anda),
            0x85 =>  handle_op!(Immediate, bita),
            0x86 =>  handle_op!(Immediate, lda),
            0x88 =>  handle_op!(Immediate, eora),
            0x89 =>  handle_op!(Immediate, adca),
            0x8a =>  handle_op!(Immediate, ora),
            0x8b =>  handle_op!(Immediate, adda),
            0x8c =>  handle_op!(Immediate, cmpx),
            0x8d =>  handle_op!(Relative, bsr),
            0x8e =>  handle_op!(Immediate, ldx),
            0x90 =>  handle_op!(Direct, suba),
            0x91 =>  handle_op!(Direct, cmpa),
            0x92 =>  handle_op!(Direct, sbca),
            0x93 =>  handle_op!(Direct, subd),
            0x94 =>  handle_op!(Direct, anda),
            0x95 =>  handle_op!(Direct, bita),
            0x96 =>  handle_op!(Direct, lda),
            0x97 =>  handle_op!(Direct, sta),
            0x98 =>  handle_op!(Direct, eora),
            0x99 =>  handle_op!(Direct, adca),
            0x9a =>  handle_op!(Direct, ora),
            0x9b =>  handle_op!(Direct, adda),
            0x9c =>  handle_op!(Direct, cmpx),
            0x9d =>  handle_op!(Direct, jsr),
            0x9e =>  handle_op!(Direct, ldx),
            0x9f =>  handle_op!(Direct, stx),
            0xa0 =>  handle_op!(Indexed, suba),
            0xa1 =>  handle_op!(Indexed, cmpa),
            0xa2 =>  handle_op!(Indexed, sbca),
            0xa3 =>  handle_op!(Indexed, subd),
            0xa4 =>  handle_op!(Indexed, anda),
            0xa5 =>  handle_op!(Indexed, bita),
            0xa6 =>  handle_op!(Indexed, lda),
            0xa7 =>  handle_op!(Indexed, sta),
            0xa8 =>  handle_op!(Indexed, eora),
            0xa9 =>  handle_op!(Indexed, adca),
            0xaa =>  handle_op!(Indexed, ora),
            0xab =>  handle_op!(Indexed, adda),
            0xac =>  handle_op!(Indexed, cmpx),
            0xad =>  handle_op!(Indexed, jsr),
            0xae =>  handle_op!(Indexed, ldx),
            0xaf =>  handle_op!(Indexed, stx),
            0xb0 =>  handle_op!(Extended, suba),
            0xb1 =>  handle_op!(Extended, cmpa),
            0xb2 =>  handle_op!(Extended, sbca),
            0xb3 =>  handle_op!(Extended, subd),
            0xb4 =>  handle_op!(Extended, anda),
            0xb5 =>  handle_op!(Extended, bita),
            0xb6 =>  handle_op!(Extended, lda),
            0xb7 =>  handle_op!(Extended, sta),
            0xb8 =>  handle_op!(Extended, eora),
            0xb9 =>  handle_op!(Extended, adca),
            0xba =>  handle_op!(Extended, ora),
            0xbb =>  handle_op!(Extended, adda),
            0xbc =>  handle_op!(Extended, cmpx),
            0xbd =>  handle_op!(Extended, jsr),
            0xbe =>  handle_op!(Extended, ldx),
            0xbf =>  handle_op!(Extended, stx),
            0xc0 =>  handle_op!(Immediate, subb),
            0xc1 =>  handle_op!(Immediate, cmpb),
            0xc2 =>  handle_op!(Immediate, sbcb),
            0xc3 =>  handle_op!(Immediate, addd),
            0xc4 =>  handle_op!(Immediate, andb),
            0xc5 =>  handle_op!(Immediate, bitb),
            0xc6 =>  handle_op!(Immediate, ldb),
            0xc8 =>  handle_op!(Immediate, eorb),
            0xc9 =>  handle_op!(Immediate, adcb),
            0xca =>  handle_op!(Immediate, orb),
            0xcb =>  handle_op!(Immediate, addb),
            0xcc =>  handle_op!(Immediate, ldd),
            0xce =>  handle_op!(Immediate, ldu),
            0xd0 =>  handle_op!(Direct, subb),
            0xd1 =>  handle_op!(Direct, cmpb),
            0xd2 =>  handle_op!(Direct, sbcb),
            0xd3 =>  handle_op!(Direct, addd),
            0xd4 =>  handle_op!(Direct, andb),
            0xd5 =>  handle_op!(Direct, bitb),
            0xd6 =>  handle_op!(Direct, ldb),
            0xd7 =>  handle_op!(Direct, stb),
            0xd8 =>  handle_op!(Direct, eorb),
            0xd9 =>  handle_op!(Direct, adcb),
            0xda =>  handle_op!(Direct, orb),
            0xdb =>  handle_op!(Direct, addb),
            0xdc =>  handle_op!(Direct, ldd),
            0xdd =>  handle_op!(Direct, std),
            0xde =>  handle_op!(Direct, ldu),
            0xdf =>  handle_op!(Direct, stu),
            0xe0 =>  handle_op!(Indexed, subb),
            0xe1 =>  handle_op!(Indexed, cmpb),
            0xe2 =>  handle_op!(Indexed, sbcb),
            0xe3 =>  handle_op!(Indexed, addd),
            0xe4 =>  handle_op!(Indexed, andb),
            0xe5 =>  handle_op!(Indexed, bitb),
            0xe6 =>  handle_op!(Indexed, ldb),
            0xe7 =>  handle_op!(Indexed, stb),
            0xe8 =>  handle_op!(Indexed, eorb),
            0xe9 =>  handle_op!(Indexed, adcb),
            0xea =>  handle_op!(Indexed, orb),
            0xeb =>  handle_op!(Indexed, addb),
            0xec =>  handle_op!(Indexed, ldd),
            0xed =>  handle_op!(Indexed, std),
            0xee =>  handle_op!(Indexed, ldu),
            0xef =>  handle_op!(Indexed, stu),
            0xf0 =>  handle_op!(Extended, subb),
            0xf1 =>  handle_op!(Extended, cmpb),
            0xf2 =>  handle_op!(Extended, sbcb),
            0xf3 =>  handle_op!(Extended, addd),
            0xf4 =>  handle_op!(Extended, andb),
            0xf5 =>  handle_op!(Extended, bitb),
            0xf6 =>  handle_op!(Extended, ldb),
            0xf7 =>  handle_op!(Extended, stb),
            0xf8 =>  handle_op!(Extended, eorb),
            0xf9 =>  handle_op!(Extended, adcb),
            0xfa =>  handle_op!(Extended, orb),
            0xfb =>  handle_op!(Extended, addb),
            0xfc =>  handle_op!(Extended, ldd),
            0xfd =>  handle_op!(Extended, std),
            0xfe =>  handle_op!(Extended, ldu),
            0xff =>  handle_op!(Extended, stu),
            0x113f => handle_op!(Inherent,  swi3),
            0x1183 => handle_op!(Immediate,  cmpu),
            0x118c => handle_op!(Immediate,  cmps),
            0x1193 => handle_op!(Direct, cmpu),
            0x119c => handle_op!(Direct, cmps),
            0x11a3 => handle_op!(Indexed, cmpu),
            0x11ac => handle_op!(Indexed, cmps),
            0x11b3 => handle_op!(Extended, cmpu),
            0x11bc => handle_op!(Extended, cmps),
            0x1021 => handle_op!(Relative, lbrn),
            0x1022 =>  handle_op!(Relative, lbhi),
            0x1023 =>  handle_op!(Relative, lbls),
            0x1024 =>  handle_op!(Relative, lbhs_lbcc),
            0x1025 =>  handle_op!(Relative, lblo_lbcs),
            0x1026 =>  handle_op!(Relative, lbne),
            0x1027 =>  handle_op!(Relative, lbeq),
            0x1028 =>  handle_op!(Relative, lbvc),
            0x1029 =>  handle_op!(Relative, lbvs),
            0x102a =>  handle_op!(Relative, lbpl),
            0x102b =>  handle_op!(Relative, lbmi),
            0x102c =>  handle_op!(Relative, lbge),
            0x102d =>  handle_op!(Relative, lblt),
            0x102e =>  handle_op!(Relative, lbgt),
            0x102f =>  handle_op!(Relative, lble),
            0x103f =>  handle_op!(Inherent, swi2),
            0x1083 =>  handle_op!(Immediate, cmpd),
            0x108c =>  handle_op!(Immediate, cmpy),
            0x108e =>  handle_op!(Immediate, ldy),
            0x1093 =>  handle_op!(Direct, cmpd),
            0x109c =>  handle_op!(Direct, cmpy),
            0x109e =>  handle_op!(Direct, ldy),
            0x109f =>  handle_op!(Direct, sty),
            0x10a3 =>  handle_op!(Indexed, cmpd),
            0x10ac =>  handle_op!(Indexed, cmpy),
            0x10ae =>  handle_op!(Indexed, ldy),
            0x10af =>  handle_op!(Indexed, sty),
            0x10b3 =>  handle_op!(Extended, cmpd),
            0x10bc =>  handle_op!(Extended, cmpy),
            0x10be =>  handle_op!(Extended, ldy),
            0x10bf =>  handle_op!(Extended, sty),
            0x10ce =>  handle_op!(Immediate, lds),
            0x10de =>  handle_op!(Direct, lds),
            0x10df =>  handle_op!(Direct, sts),
            0x10ee =>  handle_op!(Indexed, lds),
            0x10ef =>  handle_op!(Indexed, sts),
            0x10fe =>  handle_op!(Extended, lds),
            0x10ff =>  handle_op!(Extended, sts),
            _ => $fail
        }
    }
}



macro_rules! single_op {
    ($addr:ident, $op:ident, $this:ident, $mem:expr, $res:expr) => {
        { $this.$addr($mem, $res); $this.$op($mem, $res); }
    }
}

macro_rules! decode_op {
    ($op:expr, $this:ident, $mem:expr, $res:expr) => {
        match $op {
            0x00 =>  single_op!(direct_8, neg, $this, $mem, $res),
            0x03 =>  single_op!(direct_8, com, $this, $mem, $res),
            0x04 =>  single_op!(direct_8, lsr, $this, $mem, $res),
            0x06 =>  single_op!(direct_8, ror, $this, $mem, $res),
            0x07 =>  single_op!(direct_8, asr, $this, $mem, $res),
            0x08 =>  single_op!(direct_8, lsl_asl, $this, $mem, $res),
            0x09 =>  single_op!(direct_8, rol, $this, $mem, $res),
            0x0a =>  single_op!(direct_8, dec, $this, $mem, $res),
            0x0c =>  single_op!(direct_8, inc, $this, $mem, $res),
            0x0d =>  single_op!(direct_8, tst, $this, $mem, $res),
            0x0e =>  single_op!(direct_16, jmp, $this, $mem, $res),
            0x0f =>  single_op!(direct_8, clr, $this, $mem, $res),
            0x12 =>  single_op!(inherent, nop, $this, $mem, $res),
            0x13 =>  single_op!(inherent, sync, $this, $mem, $res),
            0x16 =>  single_op!(relative16, lbra, $this, $mem, $res),
            0x17 =>  single_op!(relative16, lbsr, $this, $mem, $res),
            0x19 =>  single_op!(inherent, daa, $this, $mem, $res),
            0x1a =>  single_op!(immediate8, orcc, $this, $mem, $res),
            0x1c =>  single_op!(immediate8, andcc, $this, $mem, $res),
            0x1d =>  single_op!(inherent, sex, $this, $mem, $res),
            0x1e =>  single_op!(inherent_reg_reg, exg, $this, $mem, $res),
            0x1f =>  single_op!(inherent_reg_reg, tfr, $this, $mem, $res),
            0x20 =>  single_op!(relative8, bra, $this, $mem, $res),
            0x21 =>  single_op!(relative8, brn, $this, $mem, $res),
            0x22 =>  single_op!(relative8, bhi, $this, $mem, $res),
            0x23 =>  single_op!(relative8, bls, $this, $mem, $res),
            0x24 =>  single_op!(relative8, bhs_bcc, $this, $mem, $res),
            0x25 =>  single_op!(relative8, blo_bcs, $this, $mem, $res),
            0x26 =>  single_op!(relative8, bne, $this, $mem, $res),
            0x27 =>  single_op!(relative8, beq, $this, $mem, $res),
            0x28 =>  single_op!(relative8, bvc, $this, $mem, $res),
            0x29 =>  single_op!(relative8, bvs, $this, $mem, $res),
            0x2a =>  single_op!(relative8, bpl, $this, $mem, $res),
            0x2b =>  single_op!(relative8, bmi, $this, $mem, $res),
            0x2c =>  single_op!(relative8, bge, $this, $mem, $res),
            0x2d =>  single_op!(relative8, blt, $this, $mem, $res),
            0x2e =>  single_op!(relative8, bgt, $this, $mem, $res),
            0x2f =>  single_op!(relative8, ble, $this, $mem, $res),
            0x30 =>  single_op!(indexed_16, leax, $this, $mem, $res),
            0x31 =>  single_op!(indexed_16, leay, $this, $mem, $res),
            0x32 =>  single_op!(indexed_16, leas, $this, $mem, $res),
            0x33 =>  single_op!(indexed_16, leau, $this, $mem, $res),
            0x34 =>  single_op!(inherent_reg_stack, pshs, $this, $mem, $res),
            0x35 =>  single_op!(inherent_reg_stack, puls, $this, $mem, $res),
            0x36 =>  single_op!(inherent_reg_stack, pshu, $this, $mem, $res),
            0x37 =>  single_op!(inherent_reg_stack, pulu, $this, $mem, $res),
            0x39 =>  single_op!(inherent, rts, $this, $mem, $res),
            0x3a =>  single_op!(inherent, abx, $this, $mem, $res),
            0x3b =>  single_op!(inherent, rti, $this, $mem, $res),
            0x3c =>  single_op!(inherent_reg_stack, cwai, $this, $mem, $res),
            0x3d =>  single_op!(inherent, mul, $this, $mem, $res),
            0x3e =>  single_op!(inherent, reset, $this, $mem, $res),
            0x3f =>  single_op!(inherent, swi, $this, $mem, $res),
            0x40 =>  single_op!(inherent, nega, $this, $mem, $res),
            0x43 =>  single_op!(inherent, coma, $this, $mem, $res),
            0x44 =>  single_op!(inherent, lsra, $this, $mem, $res),
            0x46 =>  single_op!(inherent, rora, $this, $mem, $res),
            0x47 =>  single_op!(inherent, asra, $this, $mem, $res),
            0x48 =>  single_op!(inherent, lsla_asla, $this, $mem, $res),
            0x49 =>  single_op!(inherent, rola, $this, $mem, $res),
            0x4a =>  single_op!(inherent, deca, $this, $mem, $res),
            0x4c =>  single_op!(inherent, inca, $this, $mem, $res),
            0x4d =>  single_op!(inherent, tsta, $this, $mem, $res),
            0x4f =>  single_op!(inherent, clra, $this, $mem, $res),
            0x50 =>  single_op!(inherent, negb, $this, $mem, $res),
            0x53 =>  single_op!(inherent, comb, $this, $mem, $res),
            0x54 =>  single_op!(inherent, lsrb, $this, $mem, $res),
            0x56 =>  single_op!(inherent, rorb, $this, $mem, $res),
            0x57 =>  single_op!(inherent, asrb, $this, $mem, $res),
            0x58 =>  single_op!(inherent, lslb_aslb, $this, $mem, $res),
            0x59 =>  single_op!(inherent, rolb, $this, $mem, $res),
            0x5a =>  single_op!(inherent, decb, $this, $mem, $res),
            0x5c =>  single_op!(inherent, incb, $this, $mem, $res),
            0x5d =>  single_op!(inherent, tstb, $this, $mem, $res),
            0x5f =>  single_op!(inherent, clrb, $this, $mem, $res),
            0x60 =>  single_op!(indexed_8, neg, $this, $mem, $res),
            0x63 =>  single_op!(indexed_8, com, $this, $mem, $res),
            0x64 =>  single_op!(indexed_8, lsr, $this, $mem, $res),
            0x66 =>  single_op!(indexed_8, ror, $this, $mem, $res),
            0x67 =>  single_op!(indexed_8, asr, $this, $mem, $res),
            0x68 =>  single_op!(indexed_8, lsl_asl, $this, $mem, $res),
            0x69 =>  single_op!(indexed_8, rol, $this, $mem, $res),
            0x6a =>  single_op!(indexed_8, dec, $this, $mem, $res),
            0x6c =>  single_op!(indexed_8, inc, $this, $mem, $res),
            0x6d =>  single_op!(indexed_8, tst, $this, $mem, $res),
            0x6e =>  single_op!(indexed_16, jmp, $this, $mem, $res),
            0x6f =>  single_op!(indexed_8, clr, $this, $mem, $res),
            0x70 =>  single_op!(extended_8, neg, $this, $mem, $res),
            0x73 =>  single_op!(extended_8, com, $this, $mem, $res),
            0x74 =>  single_op!(extended_8, lsr, $this, $mem, $res),
            0x76 =>  single_op!(extended_8, ror, $this, $mem, $res),
            0x77 =>  single_op!(extended_8, asr, $this, $mem, $res),
            0x78 =>  single_op!(extended_8, lsl_asl, $this, $mem, $res),
            0x79 =>  single_op!(extended_8, rol, $this, $mem, $res),
            0x7a =>  single_op!(extended_8, dec, $this, $mem, $res),
            0x7c =>  single_op!(extended_8, inc, $this, $mem, $res),
            0x7d =>  single_op!(extended_8, tst, $this, $mem, $res),
            0x7e =>  single_op!(extended_16, jmp, $this, $mem, $res),
            0x7f =>  single_op!(extended_8, clr, $this, $mem, $res),
            0x80 =>  single_op!(immediate8, suba, $this, $mem, $res),
            0x81 =>  single_op!(immediate8, cmpa, $this, $mem, $res),
            0x82 =>  single_op!(immediate8, sbca, $this, $mem, $res),
            0x83 =>  single_op!(immediate16, subd, $this, $mem, $res),
            0x84 =>  single_op!(immediate8, anda, $this, $mem, $res),
            0x85 =>  single_op!(immediate8, bita, $this, $mem, $res),
            0x86 =>  single_op!(immediate8, lda, $this, $mem, $res),
            0x88 =>  single_op!(immediate8, eora, $this, $mem, $res),
            0x89 =>  single_op!(immediate8, adca, $this, $mem, $res),
            0x8a =>  single_op!(immediate8, ora, $this, $mem, $res),
            0x8b =>  single_op!(immediate8, adda, $this, $mem, $res),
            0x8c =>  single_op!(immediate16, cmpx, $this, $mem, $res),
            0x8d =>  single_op!(relative8, bsr, $this, $mem, $res),
            0x8e =>  single_op!(immediate16, ldx, $this, $mem, $res),
            0x90 =>  single_op!(direct_8, suba, $this, $mem, $res),
            0x91 =>  single_op!(direct_8, cmpa, $this, $mem, $res),
            0x92 =>  single_op!(direct_8, sbca, $this, $mem, $res),
            0x93 =>  single_op!(direct_16, subd, $this, $mem, $res),
            0x94 =>  single_op!(direct_8, anda, $this, $mem, $res),
            0x95 =>  single_op!(direct_8, bita, $this, $mem, $res),
            0x96 =>  single_op!(direct_8, lda, $this, $mem, $res),
            0x97 =>  single_op!(direct_8, sta, $this, $mem, $res),
            0x98 =>  single_op!(direct_8, eora, $this, $mem, $res),
            0x99 =>  single_op!(direct_8, adca, $this, $mem, $res),
            0x9a =>  single_op!(direct_8, ora, $this, $mem, $res),
            0x9b =>  single_op!(direct_8, adda, $this, $mem, $res),
            0x9c =>  single_op!(direct_16, cmpx, $this, $mem, $res),
            0x9d =>  single_op!(direct_16, jsr, $this, $mem, $res),
            0x9e =>  single_op!(direct_16, ldx, $this, $mem, $res),
            0x9f =>  single_op!(direct_16, stx, $this, $mem, $res),
            0xa0 =>  single_op!(indexed_8, suba, $this, $mem, $res),
            0xa1 =>  single_op!(indexed_8, cmpa, $this, $mem, $res),
            0xa2 =>  single_op!(indexed_8, sbca, $this, $mem, $res),
            0xa3 =>  single_op!(indexed_16, subd, $this, $mem, $res),
            0xa4 =>  single_op!(indexed_8, anda, $this, $mem, $res),
            0xa5 =>  single_op!(indexed_8, bita, $this, $mem, $res),
            0xa6 =>  single_op!(indexed_8, lda, $this, $mem, $res),
            0xa7 =>  single_op!(indexed_8, sta, $this, $mem, $res),
            0xa8 =>  single_op!(indexed_8, eora, $this, $mem, $res),
            0xa9 =>  single_op!(indexed_8, adca, $this, $mem, $res),
            0xaa =>  single_op!(indexed_8, ora, $this, $mem, $res),
            0xab =>  single_op!(indexed_8, adda, $this, $mem, $res),
            0xac =>  single_op!(indexed_16, cmpx, $this, $mem, $res),
            0xad =>  single_op!(indexed_16, jsr, $this, $mem, $res),
            0xae =>  single_op!(indexed_16, ldx, $this, $mem, $res),
            0xaf =>  single_op!(indexed_16, stx, $this, $mem, $res),
            0xb0 =>  single_op!(extended_8, suba, $this, $mem, $res),
            0xb1 =>  single_op!(extended_8, cmpa, $this, $mem, $res),
            0xb2 =>  single_op!(extended_8, sbca, $this, $mem, $res),
            0xb3 =>  single_op!(extended_16, subd, $this, $mem, $res),
            0xb4 =>  single_op!(extended_8, anda, $this, $mem, $res),
            0xb5 =>  single_op!(extended_8, bita, $this, $mem, $res),
            0xb6 =>  single_op!(extended_8, lda, $this, $mem, $res),
            0xb7 =>  single_op!(extended_8, sta, $this, $mem, $res),
            0xb8 =>  single_op!(extended_8, eora, $this, $mem, $res),
            0xb9 =>  single_op!(extended_8, adca, $this, $mem, $res),
            0xba =>  single_op!(extended_8, ora, $this, $mem, $res),
            0xbb =>  single_op!(extended_8, adda, $this, $mem, $res),
            0xbc =>  single_op!(extended_16, cmpx, $this, $mem, $res),
            0xbd =>  single_op!(extended_16, jsr, $this, $mem, $res),
            0xbe =>  single_op!(extended_16, ldx, $this, $mem, $res),
            0xbf =>  single_op!(extended_16, stx, $this, $mem, $res),
            0xc0 =>  single_op!(immediate8, subb, $this, $mem, $res),
            0xc1 =>  single_op!(immediate8, cmpb, $this, $mem, $res),
            0xc2 =>  single_op!(immediate8, sbcb, $this, $mem, $res),
            0xc3 =>  single_op!(immediate16, addd, $this, $mem, $res),
            0xc4 =>  single_op!(immediate8, andb, $this, $mem, $res),
            0xc5 =>  single_op!(immediate8, bitb, $this, $mem, $res),
            0xc6 =>  single_op!(immediate8, ldb, $this, $mem, $res),
            0xc8 =>  single_op!(immediate8, eorb, $this, $mem, $res),
            0xc9 =>  single_op!(immediate8, adcb, $this, $mem, $res),
            0xca =>  single_op!(immediate8, orb, $this, $mem, $res),
            0xcb =>  single_op!(immediate8, addb, $this, $mem, $res),
            0xcc =>  single_op!(immediate16, ldd, $this, $mem, $res),
            0xce =>  single_op!(immediate16, ldu, $this, $mem, $res),
            0xd0 =>  single_op!(direct_8, subb, $this, $mem, $res),
            0xd1 =>  single_op!(direct_8, cmpb, $this, $mem, $res),
            0xd2 =>  single_op!(direct_8, sbcb, $this, $mem, $res),
            0xd3 =>  single_op!(direct_16, addd, $this, $mem, $res),
            0xd4 =>  single_op!(direct_8, andb, $this, $mem, $res),
            0xd5 =>  single_op!(direct_8, bitb, $this, $mem, $res),
            0xd6 =>  single_op!(direct_8, ldb, $this, $mem, $res),
            0xd7 =>  single_op!(direct_8, stb, $this, $mem, $res),
            0xd8 =>  single_op!(direct_8, eorb, $this, $mem, $res),
            0xd9 =>  single_op!(direct_8, adcb, $this, $mem, $res),
            0xda =>  single_op!(direct_8, orb, $this, $mem, $res),
            0xdb =>  single_op!(direct_8, addb, $this, $mem, $res),
            0xdc =>  single_op!(direct_16, ldd, $this, $mem, $res),
            0xdd =>  single_op!(direct_16, std, $this, $mem, $res),
            0xde =>  single_op!(direct_16, ldu, $this, $mem, $res),
            0xdf =>  single_op!(direct_16, stu, $this, $mem, $res),
            0xe0 =>  single_op!(indexed_8, subb, $this, $mem, $res),
            0xe1 =>  single_op!(indexed_8, cmpb, $this, $mem, $res),
            0xe2 =>  single_op!(indexed_8, sbcb, $this, $mem, $res),
            0xe3 =>  single_op!(indexed_16, addd, $this, $mem, $res),
            0xe4 =>  single_op!(indexed_8, andb, $this, $mem, $res),
            0xe5 =>  single_op!(indexed_8, bitb, $this, $mem, $res),
            0xe6 =>  single_op!(indexed_8, ldb, $this, $mem, $res),
            0xe7 =>  single_op!(indexed_8, stb, $this, $mem, $res),
            0xe8 =>  single_op!(indexed_8, eorb, $this, $mem, $res),
            0xe9 =>  single_op!(indexed_8, adcb, $this, $mem, $res),
            0xea =>  single_op!(indexed_8, orb, $this, $mem, $res),
            0xeb =>  single_op!(indexed_8, addb, $this, $mem, $res),
            0xec =>  single_op!(indexed_16, ldd, $this, $mem, $res),
            0xed =>  single_op!(indexed_16, std, $this, $mem, $res),
            0xee =>  single_op!(indexed_16, ldu, $this, $mem, $res),
            0xef =>  single_op!(indexed_16, stu, $this, $mem, $res),
            0xf0 =>  single_op!(extended_8, subb, $this, $mem, $res),
            0xf1 =>  single_op!(extended_8, cmpb, $this, $mem, $res),
            0xf2 =>  single_op!(extended_8, sbcb, $this, $mem, $res),
            0xf3 =>  single_op!(extended_16, addd, $this, $mem, $res),
            0xf4 =>  single_op!(extended_8, andb, $this, $mem, $res),
            0xf5 =>  single_op!(extended_8, bitb, $this, $mem, $res),
            0xf6 =>  single_op!(extended_8, ldb, $this, $mem, $res),
            0xf7 =>  single_op!(extended_8, stb, $this, $mem, $res),
            0xf8 =>  single_op!(extended_8, eorb, $this, $mem, $res),
            0xf9 =>  single_op!(extended_8, adcb, $this, $mem, $res),
            0xfa =>  single_op!(extended_8, orb, $this, $mem, $res),
            0xfb =>  single_op!(extended_8, addb, $this, $mem, $res),
            0xfc =>  single_op!(extended_16, ldd, $this, $mem, $res),
            0xfd =>  single_op!(extended_16, std, $this, $mem, $res),
            0xfe =>  single_op!(extended_16, ldu, $this, $mem, $res),
            0xff =>  single_op!(extended_16, stu, $this, $mem, $res),
            0x113f => single_op!(inherent,  swi3, $this, $mem, $res),
            0x1183 => single_op!(immediate16,  cmpu, $this, $mem, $res),
            0x118c => single_op!(immediate16,  cmps, $this, $mem, $res),
            0x1193 => single_op!(direct_16, cmpu, $this, $mem, $res),
            0x119c => single_op!(direct_16, cmps, $this, $mem, $res),
            0x11a3 => single_op!(indexed_16, cmpu, $this, $mem, $res),
            0x11ac => single_op!(indexed_16, cmps, $this, $mem, $res),
            0x11b3 => single_op!(extended_16, cmpu, $this, $mem, $res),
            0x11bc => single_op!(extended_16, cmps, $this, $mem, $res),
            0x1021 => single_op!(relative16, lbrn, $this, $mem, $res),
            0x1022 =>  single_op!(relative16, lbhi, $this, $mem, $res),
            0x1023 =>  single_op!(relative16, lbls, $this, $mem, $res),
            0x1024 =>  single_op!(relative16, lbhs_lbcc, $this, $mem, $res),
            0x1025 =>  single_op!(relative16, lblo_lbcs, $this, $mem, $res),
            0x1026 =>  single_op!(relative16, lbne, $this, $mem, $res),
            0x1027 =>  single_op!(relative16, lbeq, $this, $mem, $res),
            0x1028 =>  single_op!(relative16, lbvc, $this, $mem, $res),
            0x1029 =>  single_op!(relative16, lbvs, $this, $mem, $res),
            0x102a =>  single_op!(relative16, lbpl, $this, $mem, $res),
            0x102b =>  single_op!(relative16, lbmi, $this, $mem, $res),
            0x102c =>  single_op!(relative16, lbge, $this, $mem, $res),
            0x102d =>  single_op!(relative16, lblt, $this, $mem, $res),
            0x102e =>  single_op!(relative16, lbgt, $this, $mem, $res),
            0x102f =>  single_op!(relative16, lble, $this, $mem, $res),
            0x103f =>  single_op!(inherent, swi2, $this, $mem, $res),
            0x1083 =>  single_op!(immediate16, cmpd, $this, $mem, $res),
            0x108c =>  single_op!(immediate16, cmpy, $this, $mem, $res),
            0x108e =>  single_op!(immediate16, ldy, $this, $mem, $res),
            0x1093 =>  single_op!(direct_16, cmpd, $this, $mem, $res),
            0x109c =>  single_op!(direct_16, cmpy, $this, $mem, $res),
            0x109e =>  single_op!(direct_16, ldy, $this, $mem, $res),
            0x109f =>  single_op!(direct_16, sty, $this, $mem, $res),
            0x10a3 =>  single_op!(indexed_16, cmpd, $this, $mem, $res),
            0x10ac =>  single_op!(indexed_16, cmpy, $this, $mem, $res),
            0x10ae =>  single_op!(indexed_16, ldy, $this, $mem, $res),
            0x10af =>  single_op!(indexed_16, sty, $this, $mem, $res),
            0x10b3 =>  single_op!(extended_16, cmpd, $this, $mem, $res),
            0x10bc =>  single_op!(extended_16, cmpy, $this, $mem, $res),
            0x10be =>  single_op!(extended_16, ldy, $this, $mem, $res),
            0x10bf =>  single_op!(extended_16, sty, $this, $mem, $res),
            0x10ce =>  single_op!(immediate16, lds, $this, $mem, $res),
            0x10de =>  single_op!(direct_16, lds, $this, $mem, $res),
            0x10df =>  single_op!(direct_16, sts, $this, $mem, $res),
            0x10ee =>  single_op!(indexed_16, lds, $this, $mem, $res),
            0x10ef =>  single_op!(indexed_16, sts, $this, $mem, $res),
            0x10fe =>  single_op!(extended_16, lds, $this, $mem, $res),
            0x10ff =>  single_op!(extended_16, sts, $this, $mem, $res),

            _ => { $this.unimplemented($res)}
        }
    }
}



